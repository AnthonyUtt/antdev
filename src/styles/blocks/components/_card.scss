@use '../../functions' as *;
@use '../../mixins' as *;

.card {
  @include apply-theme-color('background', get-color('light-glare'), get-color('dark-shade'));
  border-radius: get-size('400');
  padding: get-size('500');
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  @include transition-all(cubic-bezier(0.4, 0, 0.2, 1), 200ms);
  height: 100%;
  display: flex;
  flex-direction: column;

  @include media-query('md') {
    padding: get-size('600');
  }

  &:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    transform: translateY(-4px);
  }

  // Auto-adapt when image is present
  &:has(.card__image) {
    padding: 0;
    overflow: hidden;

    @include media-query('md') {
      padding: 0;
    }
  }

  &__title {
    font-size: get-size('500');
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: get-size('400');
    @include apply-theme-color('color', get-color('primary'), get-color('secondary-glare'));

    @include media-query('md') {
      font-size: get-size('600');
    }
  }

  &__body {
    flex: 1;
    margin-block-start: get-size('300');
  }

  &__image {
    width: 100%;
    aspect-ratio: 16 / 9;
    overflow: hidden;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      @include transition-all(cubic-bezier(0.4, 0, 0.2, 1), 300ms);
    }
  }

  &:hover &__image img {
    transform: scale(1.05);
  }

  &__content {
    padding: get-size('500');
    display: flex;
    flex-direction: column;
    flex: 1;

    @include media-query('md') {
      padding: get-size('600');
    }
  }

  &__meta {
    display: flex;
    align-items: center;
    gap: get-size('300');
    font-size: get-size('300');
    @include apply-theme-color('color', get-color('dark-glare'), get-color('light-shade'));
  }

  &__meta-separator {
    opacity: 0.5;
  }

  // Link card variant (whole card is clickable)
  &--link {
    position: relative;
    text-decoration: none;
    color: inherit;
    display: flex;

    &:hover {
      text-decoration: none;
    }
  }
}
